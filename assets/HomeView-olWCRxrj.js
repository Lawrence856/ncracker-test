import{_ as p,t as _,o,c as d,F as f,r as y,u as i,a as c,b as u,d as v,e as M,w as m,f as S,g}from"./index-B7QmGCEk.js";import{M as h,a as k,b as L,L as w}from"./Loader-B9MSQgGr.js";const x={class:"movie-list"},b={__name:"MoviesList",props:{movies:{type:Array,default:()=>[]}},setup(s){const t=s,{movies:r}=_(t);return(l,a)=>(o(),d("div",x,[(o(!0),d(f,null,y(i(r),e=>(o(),c(h,{key:e.id,id:e.id,collapse:e.collapse,poster:e.poster,title:e.title,year:e.year,genres:e.genres,directors:e.directors,actors:e.actors,descr:e.description},null,8,["id","collapse","poster","title","year","genres","directors","actors","descr"]))),128))]))}},B=p(b,[["__scopeId","data-v-693f4ffe"]]);function C(s){const t=u("");return{sortedMovies:u(s),selectedSort:t,onSort:a=>{switch(a){case"sort-by-name":return s.value.sort((e,n)=>e.title.localeCompare(n.title));case"sort-by-year":return s.value.sort((e,n)=>e.year-n.year);default:return s.value}}}}const F={__name:"HomeView",setup(s){const t=S(),r=u(!1),l=v(()=>t.getters["movies/GET_MOVIES"]),{sortedMovies:a,onSort:e}=C(l);return M(async()=>{r.value=!0,await t.dispatch("movies/fetchMovies"),r.value=!1}),(n,E)=>(o(),c(k,null,{default:m(()=>[g(L,{onOnSort:i(e)},null,8,["onOnSort"]),r.value?(o(),c(w,{key:0})):(o(),c(B,{key:1,movies:i(a)},null,8,["movies"]))]),_:1}))}};export{F as default};
